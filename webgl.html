<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Example</title>
</head>
<body>
<canvas id="canvasgl"></canvas>
<script ></script>
<script src="https://cdn.jsdelivr.net/npm/twgl.js@4.5.2/dist/4.x/twgl-full.min.js"></script>
<script>
  'use strict';
  const vsource = `
    attribute vec3 position;
    void main() {
        gl_Position = vec4(position, 1);
    }`;
  const fsource = `
    precision mediump float;
    
    uniform vec2 target;
    uniform vec2 delta;
    uniform vec2 resolution;

    uniform int iterations;
    uniform float bailout;

    void main() {
      vec2 col = (gl_FragCoord.xy / resolution.xy) - vec2(0.5);  
      gl_FragColor = vec4(col, 1, 1);
    }`;

  const gl = document.getElementById('canvasgl').getContext('webgl');
  const programInfo = twgl.createProgramInfo(gl, [vsource, fsource]);

  const arrays = { position: [-1, 1, 0, 1, 1, 0, 1, -1, 0, 1, -1, 0, -1, -1, 0, -1, 1, 0] };
  const bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);

  function render(time) {
    twgl.resizeCanvasToDisplaySize(gl.canvas);
    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);

    const uniforms = {
      target: [0, 0],
      delta: [1, 1],
      resolution: [gl.canvas.width, gl.canvas.height],
      iterations: 250,
      bailout: 16,
    };

    gl.useProgram(programInfo.program);
    twgl.setBuffersAndAttributes(gl, programInfo, bufferInfo);
    twgl.setUniforms(programInfo, uniforms);
    twgl.drawBufferInfo(gl, bufferInfo);

    requestAnimationFrame(render);
  }
  requestAnimationFrame(render);
</script>
</body>
</html>